<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>The Celebration Tales - Gallery</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      .hidden {
        display: none;
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <!-- Header -->
    <header class="w-full bg-[#f8f4ed] shadow-md relative">
      <div class="mx-auto flex items-center justify-between h-[70px] px-2">
        <!-- Logo -->
        <a href="index.html" class="block">
          <img
            src="images/logo2.png"
            alt="Logo"
            class="h-[4.5rem] w-auto saturate-200 cursor-pointer mt-2 -ml-2"
          />
        </a>

        <!-- Desktop Navigation -->
        <nav class="hidden md:flex space-x-6 font-semibold mr-10">
          <a href="index.html" class="hover:text-purple-600">Home</a>
          <a href="films.html" class="hover:text-purple-600">Films</a>
          <a href="images.html" class="hover:text-purple-600">Images</a>
          <a href="about.html" class="hover:text-purple-600">About Us</a>
          <a href="services.html" class="hover:text-purple-600">Services</a>
          <a href="contact.html" class="hover:text-purple-600">Contact</a>
          <a href="privacy.html" class="hover:text-purple-600">Privacy</a>
          <a href="terms.html" class="hover:text-purple-600">Terms</a>
        </nav>

       <!-- Mobile Hamburger Button -->

<div class="md:hidden">
  <button id="mobile-menu-button" class="focus:outline-none">
    <!-- Hamburger -->
    <i id="hamburger-icon" class="fas fa-bars text-xl text-brown"></i>
    <!-- Cross -->
    <i id="close-icon" class="fas fa-times text-xl text-brown hidden"></i>
  </button>
</div>


<!-- Mobile Navigation Menu -->
<!-- Mobile Navigation Menu (hidden by default) -->
<nav id="mobile-menu" class="absolute top-full left-0 w-full flex flex-col bg-[#f8f4ed] px-3 py-1 space-y-1 font-medium text-base z-50 hidden"
     style="box-shadow: 0 4px 4px rgba(0,0,0,0.4);">
  <a href="index.html" class="hover:text-purple-600 py-2 px-4">Home</a>
  <a href="films.html" class="hover:text-purple-600 py-2 px-4">Films</a>
  <a href="images.html" class="hover:text-purple-600 py-2 px-4">Images</a>
  <a href="about.html" class="hover:text-purple-600 py-2 px-4">About Us</a>
  <a href="services.html" class="hover:text-purple-600 py-2 px-4">Services</a>
  <a href="contact.html" class="hover:text-purple-600 py-2 px-4">Contact</a>
  <a href="privacy.html" class="hover:text-purple-600 py-2 px-4">Privacy</a>
  <a href="terms.html" class="hover:text-purple-600 py-2 px-4">Terms</a>
</nav>


    </header>
   <script>
 const btn = document.getElementById("mobile-menu-button");
const menu = document.getElementById("mobile-menu");
const hamburgerIcon = document.getElementById("hamburger-icon");
const closeIcon = document.getElementById("close-icon");

btn.addEventListener("click", () => {
  menu.classList.toggle("hidden");        // toggle mobile menu
  hamburgerIcon.classList.toggle("hidden"); // hide/show hamburger
  closeIcon.classList.toggle("hidden");     // show/hide cross
});

</script>


    </script>


    <!-- Gallery Section -->
    <section class="py-12 px-6 bg-[#f8f4ed]">
        <h2
        class="text-2xl md:text-3xl lg:text-4xl font-serif text-center font-extrabold mb-4 -mt-6 tracking-tight"
      >
        IMAGES
        <span
          class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-500"
          >GALLERY</span
        >
      </h2>
      <img
        src="images/dash_line.png"
        alt="line"
        class="mx-auto mb-6 mt-10 h-5"
        style="width: 29rem"
      />

   <!-- Filters -->
<div class="mb-16 mt-10 w-full max-w-md mx-auto 
            grid grid-cols-4 grid-rows-2 gap-4 
            md:flex md:flex-row md:justify-center md:space-x-4 md:max-w-full md:grid-cols-none md:grid-rows-none">

  <button class="filter-btn bg-cyan-600 text-white w-full h-12 rounded-lg hover:bg-cyan-500 text-xs sm:text-sm md:text-base" data-category="all">All</button>
  <button class="filter-btn bg-gray-200 w-full h-12 rounded-lg hover:bg-cyan-500 hover:text-white text-xs sm:text-sm md:text-base" data-category="photo-shoot">Photo Shoot</button>
  <button class="filter-btn bg-gray-200 w-full h-12 rounded-lg hover:bg-cyan-500 hover:text-white text-xs sm:text-sm md:text-base" data-category="wedding">Wedding</button>
  <button class="filter-btn bg-gray-200 w-full h-12 rounded-lg hover:bg-cyan-500 hover:text-white text-xs sm:text-sm md:text-base" data-category="babyshower">Baby Shower</button>
  <button class="filter-btn bg-gray-200 w-full h-12 rounded-lg hover:bg-cyan-500 hover:text-white text-xs sm:text-sm md:text-base" data-category="birthday">Birthdays</button>
  <button class="filter-btn bg-gray-200 w-full h-12 rounded-lg hover:bg-cyan-500 hover:text-white text-xs sm:text-sm md:text-base" data-category="anniversary">Anniversaries</button>
  <button class="filter-btn bg-gray-200 w-full h-12 rounded-lg hover:bg-cyan-500 hover:text-white text-xs sm:text-sm md:text-base" data-category="festival">Festivals</button>
  <button class="filter-btn bg-gray-200 w-full h-12 rounded-lg hover:bg-cyan-500 hover:text-white text-xs sm:text-sm md:text-base" data-category="banner">Banners</button>
</div>





      <!-- Category Cards (3x3 Grid) -->
      <div
        id="categoryCards"
        class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"
      >
        <!-- Photo shoot -->

        <div
          class="category-card relative h-64 rounded-lg overflow-hidden cursor-pointer bg-cover bg-center flex items-center justify-center transition duration-300 shadow-lg hover:shadow-[0_8px_30px_rgba(0,0,0,0.6)] group"
          style="background-image: url('images/photoshoot/3.jpg')"
          data-category="photo-shoot"
        >
          <!-- Dark overlay -->
          <div
            class="absolute inset-0 bg-black/20 rounded-lg transition duration-300 group-hover:bg-black/50"
          ></div>

          <!-- Text content -->
          <div class="relative z-10 text-center text-white px-4">
            <h3 class="text-xl font-bold">Photo Shoot</h3>
            <p class="text-sm mt-2">
              Professional photo shoots capturing emotions, style, and beauty
              with creativity, precision, and lasting visual impact.
            </p>
          </div>
        </div>

        <!-- Wedding Card -->
        <div
          class="category-card relative h-64 rounded-lg overflow-hidden cursor-pointer bg-cover bg-center flex items-center justify-center transition duration-300 shadow-lg hover:shadow-[0_8px_30px_rgba(0,0,0,0.6)] group"
          style="background-image: url('images/Wedding/7.jpg')"
          data-category="wedding"
        >
          <!-- Dark overlay -->
          <div
            class="absolute inset-0 bg-black/20 rounded-lg transition duration-300 group-hover:bg-black/50"
          ></div>

          <!-- Text content -->
          <div class="relative z-10 text-center text-white px-4">
            <h3 class="text-xl font-bold">Wedding</h3>
            <p class="text-sm mt-2">
              Celebrate love’s most beautiful journey, where two hearts become
              one, creating timeless memories filled with joy, laughter, and
              forever.
            </p>
          </div>
        </div>
        <!-- Baby Shower Card -->
        <div
          class="category-card relative h-64 rounded-lg overflow-hidden cursor-pointer bg-cover bg-center flex items-center justify-center transition duration-300 shadow-lg hover:shadow-[0_8px_30px_rgba(0,0,0,0.6)] group"
          style="background-image: url('images/babyshower/4.jpg')"
          data-category="babyshower"
        >
          <!-- Dark overlay -->
          <div
            class="absolute inset-0 bg-black/20 rounded-lg transition duration-300 group-hover:bg-black/50"
          ></div>

          <!-- Text content -->
          <div class="relative z-10 text-center text-white px-4">
            <h3 class="text-xl font-bold">Baby Shower</h3>
            <p class="text-sm mt-2">
              Showering love, blessings, and joy for the little one on the way,
              celebrating life’s sweetest beginning with family and friends.
            </p>
          </div>
        </div>
        <!-- Birthday Card -->
        <div
          class="category-card relative h-64 rounded-lg overflow-hidden cursor-pointer bg-cover bg-center flex items-center justify-center transition duration-300 shadow-lg hover:shadow-[0_8px_30px_rgba(0,0,0,0.6)] group"
          style="background-image: url('images/birthday/9.jpg')"
          data-category="birthday"
        >
          <!-- Dark overlay -->
          <div
            class="absolute inset-0 bg-black/20 rounded-lg transition duration-300 group-hover:bg-black/50"
          ></div>

          <!-- Text content -->
          <div class="relative z-10 text-center text-white px-4">
            <h3 class="text-xl font-bold">Birthday</h3>
            <p class="text-sm mt-2">
              Make every moment sparkle with joy, laughter, and love as we
              celebrate life’s special gift—your unforgettable birthday day.
            </p>
          </div>
        </div>

        <!-- Anniversary Card -->
        <div
          class="category-card relative h-64 rounded-lg overflow-hidden cursor-pointer bg-cover bg-center flex items-center justify-center transition duration-300 shadow-lg hover:shadow-[0_8px_30px_rgba(0,0,0,0.6)] group"
          style="background-image: url('images/anniversary/2.jpg')"
          data-category="anniversary"
        >
          <!-- Dark overlay -->
          <div
            class="absolute inset-0 bg-black/20 rounded-lg transition duration-300 group-hover:bg-black/50"
          ></div>

          <!-- Text content -->
          <div class="relative z-10 text-center text-white px-4">
            <h3 class="text-xl font-bold">Anniversary</h3>
            <p class="text-sm mt-2">
              Celebrate the journey of love, togetherness, and countless
              memories, cherishing each moment that makes your bond stronger and
              everlasting.
            </p>
          </div>
        </div>

        <!-- Festival Card -->
        <div
          class="category-card relative h-64 rounded-lg overflow-hidden cursor-pointer bg-cover bg-center flex items-center justify-center transition duration-300 shadow-lg hover:shadow-[0_8px_30px_rgba(0,0,0,0.6)] group"
          style="background-image: url('images/festival/8.jpg')"
          data-category="festival"
        >
          <!-- Dark overlay -->
          <div
            class="absolute inset-0 bg-black/20 rounded-lg transition duration-300 group-hover:bg-black/50"
          ></div>

          <!-- Text content -->
          <div class="relative z-10 text-center text-white px-4">
            <h3 class="text-xl font-bold">Festivals</h3>
            <p class="text-sm mt-2">
              Festivals bring hearts together, spreading joy, light, and
              happiness, celebrating traditions with love, laughter, and
              unforgettable moments shared with family
            </p>
          </div>
        </div>

        <!-- Banner Card -->
        <div
          class="category-card relative h-64 rounded-lg overflow-hidden cursor-pointer bg-cover bg-center flex items-center justify-center transition duration-300 shadow-lg hover:shadow-[0_8px_30px_rgba(0,0,0,0.6)] group"
          style="background-image: url('images/banner/1.jpg')"
          data-category="banner"
        >
          <!-- Dark overlay -->
          <div
            class="absolute inset-0 bg-black/20 rounded-lg transition duration-300 group-hover:bg-black/50"
          ></div>

          <!-- Text content -->
          <div class="relative z-10 text-center text-white px-4">
            <h3 class="text-xl font-bold">Banners & Posters</h3>
            <p class="text-sm mt-2">
              Banners and posters that capture attention, share emotions,
              celebrate moments, and spread messages with creativity, impact,
              love, and joy.
            </p>
          </div>
        </div>

        <!-- School Event Card -->
        <div
          class="category-card relative h-64 rounded-lg overflow-hidden cursor-pointer bg-cover bg-center flex items-center justify-center transition duration-300 shadow-lg hover:shadow-[0_8px_30px_rgba(0,0,0,0.6)] group"
          style="background-image: url('images/school/6.jpg')"
          data-category="school"
        >
          <!-- Dark overlay -->
          <div
            class="absolute inset-0 bg-black/20 rounded-lg transition duration-300 group-hover:bg-black/50"
          ></div>

          <!-- Text content -->
          <div class="relative z-10 text-center text-white px-4">
            <h3 class="text-xl font-bold">School Events</h3>
            <p class="text-sm mt-2">
              Celebrating learning, talent, and togetherness, where every child
              shines bright, creating joyful memories that last a lifetime with
              friends.
            </p>
          </div>
        </div>

        <div
          class="category-card relative h-64 rounded-lg overflow-hidden cursor-pointer bg-cover bg-center flex items-center justify-center transition duration-300 shadow-lg hover:shadow-[0_8px_30px_rgba(0,0,0,0.6)] group"
          style="background-image: url('images/common-bg.jpg')"
          data-category="someother"
        >
          <!-- Dark overlay -->
          <div
            class="absolute inset-0 bg-black/20 rounded-lg transition duration-300 group-hover:bg-black/50"
          ></div>

          <!-- Text content -->
          <div class="relative z-10 text-center text-white px-4">
            <h3 class="text-xl font-bold">Some other</h3>
            <p class="text-sm mt-2">Capturing timeless wedding memories</p>
          </div>
        </div>
      </div>

    
      <div id="categoryGallery" class="hidden">
        <!-- <button
          id="backBtn"
          class="mb-6 bg-gray-700 text-white px-4 py-2 rounded-lg hover:bg-gray-600"
        >
          &larr; Back
        </button> -->
        <h2 id="galleryTitle" class="text-3xl text-center font-bold mb-16"></h2>
        <div
          id="galleryImages"
          class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6"
        ></div>
      </div>
    </section>

    <!-- Modal -->
    <div
      id="modal"
      class="fixed inset-0 bg-black bg-opacity-80 hidden items-center justify-center z-50"
    >
      <span
        id="closeModal"
        class="absolute top-4 right-6 text-white text-3xl cursor-pointer"
        >&times;</span
      >
     <img
          src="images/line.png"
          alt="line"
          class="mx-auto mb-2 mt-16 h-5"
          style="width: 60rem"
        />
    </div>

    <!-- Footer -->
    <footer class="bg-[#f8f4ed] text-black py-6">
      <img
        src="images/line.png"
        alt="line"
        class="mx-auto mb-10 h-5"
        style="width: 80rem"
      />
      <div class="container mx-auto flex flex-col items-center space-y-4 px-4">
        <!-- Social Icons -->
        <div class="flex space-x-8 text-2xl sm:text-3xl">
          <a
            href="https://instagram.com"
            target="_blank"
            class="text-black hover:text-pink-500 transition"
          >
            <i class="fab fa-instagram text-2xl"></i>
          </a>
          <a
            href="https://facebook.com"
            target="_blank"
            class="text-black hover:text-blue-500 transition"
          >
            <i class="fab fa-facebook text-2xl"></i>
          </a>
          <a
            href="https://wa.me/91XXXXXXXXXX"
            target="_blank"
            class="text-black hover:text-green-500 transition"
          >
            <i class="fab fa-whatsapp text-2xl"></i>
          </a>
        </div>
        <!-- Copyright -->
        <p class="text-sm text-center text-black tracking-widest">
          The Celebration Tales © 2025
        </p>
      </div>
    </footer>

  <script>
  // Wait until DOM is loaded
  document.addEventListener("DOMContentLoaded", () => {
    const categoryCards = document.querySelectorAll(".category-card");
    const categoryGallery = document.getElementById("categoryGallery");
    const categoryCardsDiv = document.getElementById("categoryCards");
    const galleryTitle = document.getElementById("galleryTitle");
    const galleryImages = document.getElementById("galleryImages");
    const filterButtons = document.querySelectorAll(".filter-btn");

    // Demo images per category
    const imagesData = {
      birthday: ["images/birthday/5.jpg","images/birthday/2.jpg","images/birthday/3.jpg","images/birthday/1.jpg","images/birthday/4.jpg","images/birthday/6.jpg","images/birthday/7.jpg","images/birthday/8.jpg","images/birthday/9.jpg"],
      wedding: ["images/Wedding/1.jpg","images/Wedding/2.jpg","images/Wedding/3.jpg","images/Wedding/4.jpg","images/Wedding/5.jpg","images/Wedding/6.jpg","images/Wedding/7.jpg","images/Wedding/8.jpg","images/Wedding/9.jpg"],
      babyshower: ["images/babyshower/1.jpg","images/babyshower/2.jpg","images/babyshower/3.jpg","images/babyshower/4.jpg","images/babyshower/5.jpg","images/babyshower/6.jpg","images/babyshower/7.jpg","images/babyshower/8.jpg","images/babyshower/9.jpg"],
      anniversary: ["images/anniversary/1.jpg","images/anniversary/2.jpg","images/anniversary/3.jpg","images/anniversary/4.jpg","images/anniversary/5.jpg","images/anniversary/6.jpg","images/anniversary/7.jpg","images/anniversary/8.jpg","images/anniversary/9.jpg"],
      festival: ["images/festival/1.jpg","images/festival/2.jpg","images/festival/3.jpg","images/festival/4.jpg","images/festival/5.jpg","images/festival/6.jpg","images/festival/7.jpg","images/festival/8.jpg","images/festival/9.jpg"],
      banner: ["images/banner/1.jpg","images/babyshower2.jpg","images/babyshower3.jpg","images/babyshower4.jpg","images/babyshower5.jpg","images/babyshower6.jpg","images/babyshower7.jpg","images/babyshower8.jpg","images/babyshower9.jpg"],
      school: ["images/school/1.jpg","images/school/2.jpg","images/school/3.jpg","images/school/4.jpg","images/school/5.jpg","images/school/6.jpg","images/school/7.jpg","images/school/8.jpg","images/school/9.jpg"],
      "photo-shoot": ["images/photoshoot/1.jpg","images/photoshoot/9.jpg","images/photoshoot/3.jpg","images/photoshoot/4.jpg","images/photoshoot/2.jpg","images/photoshoot/6.jpg","images/photoshoot/7.jpg","images/photoshoot/8.jpg","images/photoshoot/5.jpg"]
    };

    // Function to load gallery
    function loadGallery(category, pushState = true) {
      galleryTitle.textContent = category.charAt(0).toUpperCase() + category.slice(1) + " Gallery";
      galleryImages.innerHTML = "";
      imagesData[category].forEach(img => {
        galleryImages.innerHTML += `
          <div class="gallery-item">
            <img src="${img}" class="w-full object-contain rounded-lg shadow-md cursor-pointer">
          </div>`;
      });

      categoryCardsDiv.classList.add("hidden");
      categoryGallery.classList.remove("hidden");

      if(pushState) {
        history.pushState({ category }, "", `#${category}`);
      }
    }

    // Set active filter button
    function setActiveButton(category) {
      filterButtons.forEach(b => {
        b.classList.remove("bg-cyan-600","text-white");
        b.classList.add("bg-gray-200","text-black");
      });
      const activeBtn = document.querySelector(`.filter-btn[data-category="${category}"]`);
      if(activeBtn){
        activeBtn.classList.remove("bg-gray-200","text-black");
        activeBtn.classList.add("bg-cyan-600","text-white");
      }
    }

    // Filter buttons click
    filterButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const category = btn.dataset.category;
        if(category === "all") {
          categoryGallery.classList.add("hidden");
          categoryCardsDiv.classList.remove("hidden");
          history.pushState({}, "", window.location.pathname);
        } else {
          loadGallery(category);
        }
        setActiveButton(category);
      });
    });

    // Category card click
    categoryCards.forEach(card => {
      card.addEventListener("click", () => {
        const category = card.dataset.category;
        loadGallery(category);
        setActiveButton(category);
      });
    });

    // Handle browser back/forward
    window.addEventListener("popstate", (event) => {
      if(event.state && event.state.category) {
        loadGallery(event.state.category, false);
        setActiveButton(event.state.category);
      } else {
        categoryGallery.classList.add("hidden");
        categoryCardsDiv.classList.remove("hidden");
        setActiveButton("all");
      }
    });

    // Initialize gallery if URL has a hash
    const initialCategory = window.location.hash.replace("#","");
    if(initialCategory && imagesData[initialCategory]){
      loadGallery(initialCategory, false);
      setActiveButton(initialCategory);
    }
  });
</script>
    <script src="./js/main.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const categoryCards = Array.from(document.querySelectorAll(".category-card"));
  const categoryGallery = document.getElementById("categoryGallery");
  const categoryCardsDiv = document.getElementById("categoryCards");
  const galleryTitle = document.getElementById("galleryTitle");
  const galleryImages = document.getElementById("galleryImages");
  const filterButtons = Array.from(document.querySelectorAll(".filter-btn"));

  // Demo images per category (your existing object)
  const imagesData = {
    birthday: ["images/birthday/5.jpg","images/birthday/2.jpg","images/birthday/3.jpg","images/birthday/1.jpg","images/birthday/4.jpg","images/birthday/6.jpg","images/birthday/7.jpg","images/birthday/8.jpg","images/birthday/9.jpg"],
    wedding: ["images/Wedding/1.jpg","images/Wedding/2.jpg","images/Wedding/3.jpg","images/Wedding/4.jpg","images/Wedding/5.jpg","images/Wedding/6.jpg","images/Wedding/7.jpg","images/Wedding/8.jpg","images/Wedding/9.jpg"],
    babyshower: ["images/babyshower/1.jpg","images/babyshower/2.jpg","images/babyshower/3.jpg","images/babyshower/4.jpg","images/babyshower/5.jpg","images/babyshower/6.jpg","images/babyshower/7.jpg","images/babyshower/8.jpg","images/babyshower/9.jpg"],
    anniversary: ["images/anniversary/1.jpg","images/anniversary/2.jpg","images/anniversary/3.jpg","images/anniversary/4.jpg","images/anniversary/5.jpg","images/anniversary/6.jpg","images/anniversary/7.jpg","images/anniversary/8.jpg","images/anniversary/9.jpg"],
    festival: ["images/festival/1.jpg","images/festival/2.jpg","images/festival/3.jpg","images/festival/4.jpg","images/festival/5.jpg","images/festival/6.jpg","images/festival/7.jpg","images/festival/8.jpg","images/festival/9.jpg"],
    banner: ["images/banner/1.jpg","images/babyshower2.jpg","images/babyshower3.jpg","images/babyshower4.jpg","images/babyshower5.jpg","images/babyshower6.jpg","images/babyshower7.jpg","images/babyshower8.jpg","images/babyshower9.jpg"],
    school: ["images/school/1.jpg","images/school/2.jpg","images/school/3.jpg","images/school/4.jpg","images/school/5.jpg","images/school/6.jpg","images/school/7.jpg","images/school/8.jpg","images/school/9.jpg"],
    "photo-shoot": ["images/photoshoot/1.jpg","images/photoshoot/9.jpg","images/photoshoot/3.jpg","images/photoshoot/4.jpg","images/photoshoot/2.jpg","images/photoshoot/6.jpg","images/photoshoot/7.jpg","images/photoshoot/8.jpg","images/photoshoot/5.jpg"]
  };

  // Debug: confirm elements found
  // console.log({ filterButtons: filterButtons.length, categoryCards: categoryCards.length });

  function clearActiveButtons() {
    filterButtons.forEach(b => {
      b.classList.remove("bg-cyan-600", "text-white");
      b.classList.remove("bg-gray-200", "text-black");
      // restore default background/text for non-active
      b.classList.add("bg-gray-200", "text-black");
      b.setAttribute("aria-pressed", "false");
    });
  }

  function setActiveButton(category) {
    clearActiveButtons();
    const activeBtn = document.querySelector(`.filter-btn[data-category="${category}"]`);
    if (activeBtn) {
      activeBtn.classList.remove("bg-gray-200", "text-black");
      activeBtn.classList.add("bg-cyan-600", "text-white");
      activeBtn.setAttribute("aria-pressed", "true");
    }
  }

  function buildGalleryHTML(category) {
    galleryImages.innerHTML = "";
    const imgs = imagesData[category] || [];
    imgs.forEach(src => {
      const wrapper = document.createElement("div");
      wrapper.className = "gallery-item";
      wrapper.innerHTML = `<img src="${src}" class="w-full object-contain rounded-lg shadow-md cursor-pointer" alt="">`;
      galleryImages.appendChild(wrapper);
    });
  }

  function loadGallery(category, pushState = true) {
    if (!imagesData[category]) {
      console.warn("Unknown category:", category);
      return;
    }
    galleryTitle.textContent = category.charAt(0).toUpperCase() + category.slice(1) + " Gallery";
    buildGalleryHTML(category);

    // show gallery, hide cards
    categoryCardsDiv.classList.add("hidden");
    categoryGallery.classList.remove("hidden");

    if (pushState) {
      // push a state with the category and set the URL hash
      history.pushState({ category }, "", `#${category}`);
    }
  }

  // Click handlers for filter buttons
  filterButtons.forEach(btn => {
    btn.addEventListener("click", () => {
      const cat = btn.dataset.category;
      if (cat === "all") {
        // show the category cards
        categoryGallery.classList.add("hidden");
        categoryCardsDiv.classList.remove("hidden");
        history.pushState({}, "", window.location.pathname); // clear hash
        setActiveButton("all");
      } else {
        loadGallery(cat, true);
        setActiveButton(cat);
      }
    });
  });

  // Click handlers for category cards (the big tiles)
  categoryCards.forEach(card => {
    card.addEventListener("click", () => {
      const cat = card.dataset.category;
      if (cat && imagesData[cat]) {
        loadGallery(cat, true);
        setActiveButton(cat);
      }
    });
  });

  // popstate: handle back/forward
  window.addEventListener("popstate", (event) => {
    const stateCat = event.state && event.state.category;
    const hashCat = window.location.hash.replace("#", "");
    // Prefer state.category if present; otherwise validate the hash
    const category = stateCat || (hashCat && imagesData[hashCat] ? hashCat : null);

    if (category) {
      // do not push state when responding to popstate
      loadGallery(category, false);
      setActiveButton(category);
    } else {
      // No category in state or hash -> show all (cards)
      categoryGallery.classList.add("hidden");
      categoryCardsDiv.classList.remove("hidden");
      setActiveButton("all");
    }
  });

  // Initial load: if there's a hash that matches a category, open it
  const initialHash = window.location.hash.replace("#", "");
  if (initialHash && imagesData[initialHash]) {
    loadGallery(initialHash, false);
    setActiveButton(initialHash);
  } else {
    setActiveButton("all");
  }
});
</script>

  </body>
</html>
